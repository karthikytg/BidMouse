{"version":3,"sources":["./src/app/admin/referrals-list/referrals-list.module.ts","./src/app/admin/referrals-list/referrals-list.component.html","./src/app/admin/referrals-list/referrals-list.component.ts"],"names":[],"mappings":"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","file":"referrals-list-referrals-list-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReferralsListComponent } from './referrals-list.component';\nimport { RouterModule, Routes } from '@angular/router';\nimport { FormsModule } from '@angular/forms';\n\n\nconst route: Routes = [\n  {\n    path: '',\n    component: ReferralsListComponent\n  }\n]\n@NgModule({\n  declarations: [\n    ReferralsListComponent\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    RouterModule.forChild(route)\n  ]\n})\nexport class ReferralsListModule { }\n","<div class=\"w3-sidebar w3-bar-block w3-light-grey w3-card\" style=\"width:20%; padding: 2rem 3rem;\">\n    <div class=\"admin-title\">ADMIN PANEL</div>\n    <a routerLink=\"/dashboard\" class=\"w3-bar-item w3-button\">Dashboard</a>\n    <a routerLink=\"/product-list\" class=\"w3-bar-item w3-button\">Product</a>\n    <!-- <div class=\"w3-dropdown-hover\">\n        <button class=\"w3-button\">Dropdown\n            <i class=\"fa fa-caret-down\"></i>\n        </button>\n        <div class=\"w3-dropdown-content w3-bar-block\">\n            <a href=\"#\" class=\"w3-bar-item w3-button\">Link</a>\n            <a href=\"#\" class=\"w3-bar-item w3-button\">Link</a>\n        </div>\n    </div> -->\n    <a routerLink=\"/passes-admin\" class=\"w3-bar-item w3-button\">Passes</a>\n    <a routerLink=\"/user-list\" class=\"w3-bar-item w3-button\">Users</a>\n    <a routerLink=\"/ref-ad-list\" class=\"w3-bar-item w3-button\" style=\"font-weight: bolder;\">Referrals</a>\n    <a href=\"#\" class=\"w3-bar-item w3-button\">Reports</a>\n</div>\n\n<div style=\"margin-left:20%; height: 100vh;\">\n    <div class=\"w3-container\">\n        <div class=\"add-search\">\n            <div style=\"display: flex;\">\n                <img src=\"assets/icons/search_icon_152764.png\" (click)=\"toggleSearchShow()\" class=\"search-icon\" alt=\"\">\n                &nbsp;&nbsp;&nbsp;\n                <input *ngIf=\"showSearch\" type=\"text\" class=\"inputs search\" [(ngModel)]=\"search\" (input)=\"searchProducts()\" placeholder=\"Search ....\">\n            </div>\n            <div class=\"dropdown\">\n                <button class=\"dropbtn\" (click)=\"navTo('add', '')\">NEW CAMPAIGN &nbsp;&nbsp;&nbsp;<img src=\"assets/icons/plus.png\" style=\"width: 35px; height: 30px;\" alt=\"\"></button>\n                \n              </div>\n        </div>\n        <table style=\"width: 100%;\" border=\"0\">\n            <tr class=\"table-heading\">\n                <td>CAMPAIGN NAME</td>\n                <td>DATE CREATED</td>\n                <td>DISCOUNT PERCENTAGE</td>\n                <td>SIGN UPâ€™s</td>\n                <td>STATUS</td>\n            </tr>\n            <ng-container *ngFor=\"let p of products\">\n                <tr class=\"table-row\" (click)=\"p.acc = !p.acc\">\n                    <td>{{ p.campaignName}}</td>\n                    <td>{{ p.createdAt | date: 'dd / MM / yyyy' }}</td>\n                    <td>{{ p.discPer }} %</td>\n                    <td>{{ p.signups || 0 }}</td>\n                    <td style=\"display: flex; justify-content: space-between;\"><span>{{ p.status }}</span> <img src=\"/assets/icons/down-arrow-5.png\" style=\"width: 30px; height: 30px;\" alt=\"\"></td>\n                </tr>\n                <tr class=\"table-heading\" *ngIf=\"p.acc\">\n                    <td><img src=\"assets/icons/delete.jpg\" (click)=\"deleteRef(p.id)\" style=\"width: 30px; height: 30px;\" alt=\"\"></td>\n                    <td colspan=\"4\" align=\"right\">\n                        <div style=\"display: flex;  width: fit-content;\">\n                            <button class=\"dropbtn fix-w-dis\" (click)=\"navTo('uti', p.id)\">VIEW USAGE DETAILS</button>\n                            &nbsp;&nbsp;&nbsp;\n                            <button *ngIf=\"p.status === 'ACTIVE'\" class=\"dropbtn fix-w-dis\" (click)=\"deactiveRef(p.id, 'DEACTIVE')\">DEACTIVATE CAMPAIGN</button>\n                            <button *ngIf=\"p.status !== 'ACTIVE'\" class=\"dropbtn fix-w-dis\" (click)=\"deactiveRef(p.id, 'ACTIVE')\">ACTIVATE CAMPAIGN</button>\n                            &nbsp;&nbsp;&nbsp;\n                            &nbsp;&nbsp;&nbsp;\n                        </div>\n                    </td>\n                </tr>\n            </ng-container>\n        </table>\n        <!-- <button class=\"accordion\">Section 1</button>\n        <div class=\"panel\">\n        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>\n        </div>\n\n        <button class=\"accordion\">Section 2</button>\n        <div class=\"panel\">\n        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>\n        </div>\n\n        <button class=\"accordion\">Section 3</button>\n        <div class=\"panel\">\n        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>\n        </div> -->\n        \n    </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { HomeService } from 'src/app/_services/home.service';\nimport { ReferralsService } from 'src/app/_services/referrals.service';\n\n@Component({\n  selector: 'app-referrals-list',\n  templateUrl: './referrals-list.component.html',\n  styleUrls: ['./referrals-list.component.scss']\n})\nexport class ReferralsListComponent implements OnInit {\n\n  public products: any = [];\n  public tempProducts: any = [];\n  public showSearch = false;\n  public searchPattern = '';\n  search: any;\n  constructor(private hService: HomeService, private refSer: ReferralsService, private router: Router) { }\n\n  ngOnInit(): void {\n    this.hService.hideNav();\n    this.refSer.getReferrals().subscribe(res => {\n      this.products = res.rows;\n      this.products.map((m: any) => {\n        m.acc = false;\n      });\n      this.tempProducts = this.products;\n    }, err => {\n      alert(err.message);\n    })\n  }\n  name = 'Angular';\n\n  rows = [\n    {id: 1, desc: \"foo\", showDetail: false},\n    {id: 2, desc: \"bar\", showDetail: false},\n  ];\n  navTo(a: any, id: any) {\n    if (a === 'add') {\n      this.router.navigate(['/ref-ad-manage/add/+']);       \n    } else {\n      this.router.navigate(['/ref-ad-manage/view/'+id]);       \n    }\n    \n  }\n  toggleSearchShow() {\n    this.showSearch = !this.showSearch;\n  }\n  searchProducts() {\n    this.products = this.tempProducts.filter((f: any) => {\n      if (f.campaignName) {\n        return (f.campaignName.toLowerCase()).includes((this.search.toLowerCase()));\n      } else {\n        return false;\n      }\n      \n    })\n  }\n  deleteRef(id: any) {\n    if (confirm('Would you like to delete this campaign ?')) {\n      this.refSer.deleteReferralsById(id).subscribe(res => {\n        alert(res.message);\n        this,this.ngOnInit()\n      }, err => {\n        alert(err.message);\n      });\n    }\n  }\n  deactiveRef(id: any, status: any) {\n    if (confirm('Would you like to '+ status +' this campaign ?')) {\n      const data = {\n        id,\n        status\n      }\n      this.refSer.deactiveRefer(data).subscribe(res => {\n        alert(res.message);\n        this.ngOnInit()\n      }, err => {\n        alert(err.message)\n      }); \n    }\n  }\n}\n"],"sourceRoot":"webpack:///"}