{"version":3,"sources":["./src/app/admin/referral-manage/referral-manage.component.ts","./src/app/admin/referral-manage/referral-manage.component.html","./src/app/admin/referral-manage/referral-manage.module.ts"],"names":[],"mappings":"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","file":"referral-manage-referral-manage-module.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute } from '@angular/router';\nimport { HomeService } from 'src/app/_services/home.service';\nimport { ReferralsService } from 'src/app/_services/referrals.service';\n\n@Component({\n  selector: 'app-referral-manage',\n  templateUrl: './referral-manage.component.html',\n  styleUrls: ['./referral-manage.component.scss']\n})\nexport class ReferralManageComponent implements OnInit {\n\n  constructor(private hService: HomeService, \n    private formBuilder: FormBuilder,\n    private refSer: ReferralsService,\n    private activatedRoute: ActivatedRoute) { }\n\n  public prodForm!: FormGroup;\n  public title = '';\n  public cId = '';\n  public sts = '';\n  public dt = '';\n  ngOnInit(): void {\n    this.hService.hideNav();\n    this.title = this.activatedRoute.snapshot.params['type'];\n    const id = this.activatedRoute.snapshot.params['id'];\n    this.prodForm = this.formBuilder.group({\n      campaignName: ['', [Validators.required]],\n      discPer: [''],\n      status: ['ACTIVE'],\n      id: ['']\n    });\n    if (this.title !== 'add') {\n      this.refSer.getReferralById(id).subscribe(res => {\n        this.prodForm = this.formBuilder.group({\n          campaignName: [res.rows.campaignName, [Validators.required]],\n          discPer: [res.rows.discPer],\n          status: [res.rows.status],\n          id: [res.rows.id]\n        });\n        this.cId = res.rows.uuid;\n        this.sts = res.rows.status;\n        this.dt = res.rows.createdAt;\n      }, err => {\n        console.log(err.message);\n      })\n    }\n  }\n  saveReferral() {\n    this.refSer.addReferrals(this.prodForm.value).subscribe(res => {\n      alert(res.message);\n      window.location.reload();\n    }, err => {\n      alert(err.message);\n    })\n  }\n  upReferral() {\n    this.refSer.updateRefer(this.prodForm.value).subscribe(res => {\n      alert(res.message);\n      window.location.reload();\n    }, err => {\n      alert(err.message);\n    })\n  }\n}\n","<div class=\"w3-sidebar w3-bar-block w3-light-grey w3-card\" style=\"width:20%; padding: 2rem 3rem;\">\n    <div class=\"admin-title\">ADMIN PANEL</div>\n    <a routerLink=\"/dashboard\" class=\"w3-bar-item w3-button\">Dashboard</a>\n    <a routerLink=\"/product-list\" class=\"w3-bar-item w3-button\">Product</a>\n    <!-- <div class=\"w3-dropdown-hover\">\n        <button class=\"w3-button\">Dropdown\n            <i class=\"fa fa-caret-down\"></i>\n        </button>\n        <div class=\"w3-dropdown-content w3-bar-block\">\n            <a href=\"#\" class=\"w3-bar-item w3-button\">Link</a>\n            <a href=\"#\" class=\"w3-bar-item w3-button\">Link</a>\n        </div>\n    </div> -->\n    <a routerLink=\"/passes-admin\" class=\"w3-bar-item w3-button\">Passes</a>\n    <a routerLink=\"/user-list\" class=\"w3-bar-item w3-button\">Users</a>\n    <a routerLink=\"/ref-ad-list\" class=\"w3-bar-item w3-button\" style=\"font-weight: bolder;\">Referrals</a>\n    <a href=\"#\" class=\"w3-bar-item w3-button\">Reports</a>\n</div>\n\n<div style=\"margin-left:20%; height: 100vh;\">\n    <div class=\"w3-container\" style=\"display: flex;\">\n        <div class=\"product-form\" >\n            <div class=\"page-title\" *ngIf=\"title === 'add'\">\n                ADDING NEW REFERRAL CAMPAIGN\n            </div>\n            <div class=\"page-title\" *ngIf=\"title === 'view'\">\n                VIEWING PRODUCT IN DAILY SEGMENT\n            </div>\n            <form [formGroup]=\"prodForm\">\n                <br><br>\n                <table style=\"width: 100%;\">\n                    <tr *ngIf=\"title === 'view'\">\n                        <td colspan=\"2\" align=\"right\">\n                            <span style=\"font-weight: bold; margin-right: 2rem;\">EDIT</span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>\n                            <div class=\"inp-title\">Campaign Name</div>\n                            <input type=\"text\" class=\"inputs\" formControlName=\"campaignName\">\n                        </td>\n                        <td>\n                            <div class=\"inp-title\">Discount Percentage</div>\n                            <input type=\"number\" class=\"inputs\" formControlName=\"discPer\">\n                        </td>\n                    </tr>\n                </table>\n                \n                \n                <br><br>\n                <table style=\"width: 100%;\">\n                    <tr>\n                        <td style=\"width: 30%;\">\n                            <input type=\"button\" class=\"form-btns b1\" value=\"CANCEL\">\n                        </td>\n                        <td style=\"width: 30%;\">\n                            <input *ngIf=\"title === 'add'\" type=\"button\" (click)=\"saveReferral()\"  class=\"form-btns b2\" value=\"ACTIVATE\">\n                            <input *ngIf=\"title !== 'add'\" type=\"button\" (click)=\"upReferral()\"  class=\"form-btns b2\" value=\"ACTIVATE\">\n                        </td>\n                        <td>\n                            &nbsp;\n                        </td>\n                    </tr>\n                </table>\n            </form>\n        </div>\n        <div *ngIf=\"title === 'view'\" class=\"prod-info\">\n            <div style=\"font-size: 14px; font-weight: bold;\">REFERRAL CAMPAIGN ID</div>\n            <div style=\"font-size: 18px;\">{{ cId }}</div>\n            <div style=\"font-size: 14px; font-weight: bold;\">CAMPAIGN STATUS</div>\n            <div style=\"font-size: 18px;\">{{ sts | uppercase }}</div>\n            <div style=\"font-size: 14px; font-weight: bold;\">CREATED ON</div>\n            <div style=\"font-size: 18px;\">{{ dt | date: \"dd MMMM yyyy\"}}</div>\n        </div>\n    </div>\n    \n    <br><br>\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReferralManageComponent } from './referral-manage.component';\nimport { RouterModule, Routes } from '@angular/router';\nimport { ReactiveFormsModule } from '@angular/forms';\n\n\nconst route: Routes = [\n  {\n    path: '',\n    component: ReferralManageComponent\n  }\n]\n@NgModule({\n  declarations: [\n    ReferralManageComponent\n  ],\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    RouterModule.forChild(route)\n  ]\n})\nexport class ReferralManageModule { }\n"],"sourceRoot":"webpack:///"}