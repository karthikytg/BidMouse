{"version":3,"sources":["./src/app/admin/user-list/user-list.module.ts","./src/app/_services/auth.service.ts","./src/app/admin/user-list/user-list.component.html","./src/app/admin/user-list/user-list.component.ts"],"names":[],"mappings":"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","file":"user-list-user-list-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { UserListComponent } from './user-list.component';\nimport { RouterModule, Routes } from '@angular/router';\nimport { FormsModule } from '@angular/forms';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UserListComponent\n  }\n]\n@NgModule({\n  declarations: [\n    UserListComponent\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    RouterModule.forChild(routes)\n  ]\n})\nexport class UserListModule { }\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthService {\r\n\r\n    host = 'http://localhost:3001/api';\r\n    constructor(private http: HttpClient) { }\r\n  \r\n    signUpUser(data: any) {\r\n        return this.http.post<{message: any}>(`${this.host}/user/sign-up`, data);\r\n    }\r\n    login(data: any) {\r\n        return this.http.post<{message: any}>(`${this.host}/user/login`, data);\r\n    }\r\n    updateRefer(data: any) {\r\n        return this.http.put<{message: any}>(`${this.host}/refer/up-ref`, data);\r\n    }\r\n    blockOrUnblockUser(data: any) {\r\n        return this.http.put<{message: any}>(`${this.host}/user/block-user`, data);\r\n    }\r\n    getUsersList() {\r\n        return this.http.get<{rows: any, count: any}>(`${this.host}/user/get-users`);\r\n    }\r\n    getUserById(id: any) {\r\n        return this.http.get<{rows: any}>(`${this.host}/user/get-user-id/${id}`);\r\n    }\r\n    deleteUserById(id: any) {\r\n        return this.http.get<{message: any}>(`${this.host}/user/del-user/${id}`);\r\n    }\r\n}\r\n","<div class=\"w3-sidebar w3-bar-block w3-light-grey w3-card\" style=\"width:20%; padding: 2rem 3rem;\">\n    <div class=\"admin-title\">ADMIN PANEL</div>\n    <a routerLink=\"/dashboard\" class=\"w3-bar-item w3-button\">Dashboard</a>\n    <a routerLink=\"/product-list\" class=\"w3-bar-item w3-button\">Product</a>\n    <!-- <div class=\"w3-dropdown-hover\">\n        <button class=\"w3-button\">Dropdown\n            <i class=\"fa fa-caret-down\"></i>\n        </button>\n        <div class=\"w3-dropdown-content w3-bar-block\">\n            <a href=\"#\" class=\"w3-bar-item w3-button\">Link</a>\n            <a href=\"#\" class=\"w3-bar-item w3-button\">Link</a>\n        </div>\n    </div> -->\n    <a routerLink=\"/passes-admin\" class=\"w3-bar-item w3-button\">Passes</a>\n    <a routerLink=\"/user-list\" class=\"w3-bar-item w3-button\" style=\"font-weight: bolder;\">Users</a>\n    <a routerLink=\"/ref-ad-list\" class=\"w3-bar-item w3-button\">Referrals</a>\n    <a href=\"#\" class=\"w3-bar-item w3-button\">Reports</a>\n</div>\n\n<div style=\"margin-left:20%; height: 100vh;\">\n    <div class=\"w3-container\">\n        <div class=\"add-search\">\n            <div style=\"display: flex;\">\n                <img src=\"assets/icons/search_icon_152764.png\" (click)=\"toggleSearchShow()\" class=\"search-icon\" alt=\"\">\n                &nbsp;&nbsp;&nbsp;\n                <input *ngIf=\"showSearch\" type=\"text\" class=\"inputs search\" [(ngModel)]=\"search\" (input)=\"searchProducts()\" placeholder=\"Search ....\">\n            </div>\n            <!-- <div class=\"dropdown\">\n                <button class=\"dropbtn\">ADD USER &nbsp;&nbsp;&nbsp;<img src=\"assets/icons/plus.png\" style=\"width: 35px; height: 30px;\" alt=\"\"></button>\n                \n              </div> -->\n        </div>\n        <table style=\"width: 100%;\" border=\"0\">\n            <tr class=\"table-heading\">\n                <td>NAME</td>\n                <td>BIDS PARTICIPATED </td>\n                <td>BIDS WON </td>\n                <td>REFERRALS</td>\n                <td>ACTIVE PASS</td>\n            </tr>\n            <ng-container *ngFor=\"let p of products\">\n                <tr class=\"table-row\" (click)=\"p.acc = !p.acc\">\n                    <td><span class=\"rect\">*</span>{{ p.fname}}</td>\n                    <td>{{ p.bp }}</td>\n                    <td>{{ p.bw }}</td>\n                    <td>{{ p.ref }}</td>\n                    <td style=\"display: flex; justify-content: space-between;\"><span>{{ p.ap }}</span> <img src=\"/assets/icons/down-arrow-5.png\" style=\"width: 30px; height: 30px;\" alt=\"\"></td>\n                </tr>\n                <tr class=\"table-heading\" *ngIf=\"p.acc\">\n                    <td><img src=\"assets/icons/delete.jpg\" (click)=\"deleteUser(p.id)\" style=\"width: 30px; height: 30px;\" alt=\"\"></td>\n                    <!-- <td colspan=\"3\" >\n                        <div style=\"display: flex; justify-content: space-between; width: 100%;\">\n                            <button class=\"dropbtn fix-w-dis\">UPDATE TRACKING INFO</button>\n                            <button class=\"dropbtn fix-w-dis\">VIEW BIDDING RELATED INFO</button>\n                            <button class=\"dropbtn fix-w-dis\">VIEW PRODUCT DETAILS</button>\n                            <button class=\"dropbtn fix-w-dis\">PUBLISH PRODUCT TO SITE</button>\n                        </div>\n                    </td> -->\n                    <td colspan=\"4\" align=\"right\">\n                        <div style=\"display: flex;  width: fit-content;\">\n                            <button *ngIf=\"p.status === 1\" class=\"dropbtn fix-w-dis\" (click)=\"blockOrUnblockUser(p.id, 0)\">BLOCK USER</button>\n                            <button *ngIf=\"p.status === 0\" class=\"dropbtn fix-w-dis\" (click)=\"blockOrUnblockUser(p.id, 1)\">UNBLOCK USER</button>\n                            &nbsp;&nbsp;&nbsp;\n                            <button class=\"dropbtn fix-w-dis\" (click)=\"navTo('vud', p.id)\">VIEW USER DETAILS</button>\n                            &nbsp;&nbsp;&nbsp;\n                            &nbsp;&nbsp;&nbsp;\n                            &nbsp;&nbsp;&nbsp;\n                        </div>\n                    </td>\n                </tr>\n            </ng-container>\n        </table>\n        <!-- <button class=\"accordion\">Section 1</button>\n        <div class=\"panel\">\n        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>\n        </div>\n\n        <button class=\"accordion\">Section 2</button>\n        <div class=\"panel\">\n        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>\n        </div>\n\n        <button class=\"accordion\">Section 3</button>\n        <div class=\"panel\">\n        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>\n        </div> -->\n        \n    </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AuthService } from 'src/app/_services/auth.service';\nimport { HomeService } from 'src/app/_services/home.service';\n\n@Component({\n  selector: 'app-user-list',\n  templateUrl: './user-list.component.html',\n  styleUrls: ['./user-list.component.scss']\n})\nexport class UserListComponent implements OnInit {\n\n  public products: any = [];\n  public tempProducts: any = [];\n  public showSearch = false;\n  public searchPattern = '';\n  search: any;\n  constructor(private hService: HomeService, \n    private authSer: AuthService,\n    private router: Router) { }\n\n  ngOnInit(): void {\n    this.hService.hideNav();\n    this.authSer.getUsersList().subscribe(res => {\n      console.log(res.rows);\n      this.products = res.rows;\n      this.products.map((m: any) => {\n        m.acc = false;\n        m.bp = 0;\n        m.bw = 0;\n        m.ref = 0;\n        m.ap = 'No'\n      });\n      this.tempProducts = this.products;\n    }, err => {\n      console.log(err.message)\n    })\n  }\n  toggleSearchShow() {\n    this.showSearch = !this.showSearch;\n  }\n  searchProducts() {\n    this.products = this.tempProducts.filter((f: any) => {\n      if (f.fname) {\n        return (f.fname.toLowerCase()).includes((this.search.toLowerCase()));\n      } else {\n        return false;\n      }\n      \n    })\n  }\n  deleteUser(id: any) {\n    if (confirm('Would you like to delete this user ?')) {\n      this.authSer.deleteUserById(id).subscribe(res => {\n        alert(res.message);\n        this,this.ngOnInit()\n      }, err => {\n        alert(err.message);\n      });\n    }\n  }\n  blockOrUnblockUser(id: any, status: any) {\n    const lab = status === 0 ? 'Block' : 'Unblock'\n    if (confirm('Would you like to '+ lab +' this user ?')) {\n      const data = {\n        id,\n        status\n      }\n      this.authSer.blockOrUnblockUser(data).subscribe(res => {\n        alert(res.message);\n        this.ngOnInit()\n      }, err => {\n        alert(err.message)\n      }); \n    }\n  }\n  navTo(a: any, id: any) {\n    if (a === 'vud') {\n      this.router.navigate(['/user-info/'+ id]); \n    }\n  }\n}\n"],"sourceRoot":"webpack:///"}